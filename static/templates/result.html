<div ng-if="loading == true">
    <h2> Loading ... </h2>
    <p style="text-align: center" ><img src="static/img/loading.gif"></p>
</div>

<div ng-if="err_msg != false"> <h2> Error </h2>
    <p> {{ err_msg }} </p>
    <pre> {{ err_trace }} </pre>
</div>

<div ng-if="arrived()">
    <h2 style="text-align: center"> {{ main_var }} </h2>
    <br \><hr \>

    <h2> Description: </h2>
    <p>
        <ul class="code">
            <li><b>ID: </b> {{ desc2.details.id }}</li>
            <li><b>Name: </b> {{ desc2.details.name }}</li>
            <li><b>Category: </b> {{ desc2.details.source.id }}. {{ desc2.details.source.value }}</li>
            <li><b>Note: </b> {{ desc2.details.sourceNote }}</li>
            <li><b>Org: </b> {{ desc2.details.sourceOrganization }}</li>
        </ul>
    </p>

    <br \><hr \>
    <h2> Heatmap: </h2>
    <p>
        <world-map ng-attr-mapdata="{{ mapData }}"></world-map>
    </p>
    <br \><hr \>

    <p>
        <world-charts ng-attr-mapdata="{{ mapData }}"></world-charts>
    </p>
    <br \><hr \>

    <h2> Analysis: </h2>
    <p>
        <ul class="code">
            <li ng-repeat="(key, effect) in effects"> {{ effect }} </li>
        </ul>
    </p>

    <br \><hr \>

    <h2> General Data Analysis: </h2>
    <p><pre class="code">{{ desc }}</pre></p>

    <br \><hr \>

    <h2> Results from R: </h2>
    <p><pre class="code">{{ summary }}</pre></p>
    <p ng-if="lda_check()">
        <ul class="code">
            <li> LDA means for increasing quartiles of {{ main_var }} = {{ lda.lda_means }} </li>
            <li> LDA percentage influence PIE {{ main_var }} = {{ lda.lda_pie }} </li>
        </ul>
    </p>

</div>

<button class="pure-button pure-button-primary" ui-sref="choose"> Go Back </button>

